<!--wrapper-->
<div class="wrapper">
	<div class="d-flex align-items-center justify-content-center my-5 my-lg-0">
		<div class="container">
			<div class="row row-cols-1 row-cols-lg-2 row-cols-xl-2">
				<div class="col mx-auto">
					<div class="my-4 text-center">
						<img class="img-white" src="assets/images/logo-img.png" width="180" alt="" />
					</div>
					<div class="card">
						<div class="card-body">
							<div class="border p-4 rounded">
								<div class="text-center">
									<h3 class="">Regístrate</h3>
									<p>Ya tienes cuenta? <a href="JavaScript:;" (click)="onSignIn()">Ingresa acá</a>
									</p>
								</div>
								<!-- <div class="d-grid">
									<a class="btn my-4 shadow-sm btn-light" href="javascript:;"> <span class="d-flex justify-content-center align-items-center">
										<img class="me-2" src="assets/images/icons/search.svg" width="16" alt="Image Description">
										<span>Sign Up with Google</span>
										</span>
									</a> <a href="javascript:;" class="btn btn-light"><i class="bx bxl-facebook"></i>Sign Up with Facebook</a>
								</div>
								<div class="login-separater text-center mb-4"> <span>OR SIGN UP WITH EMAIL</span>
									<hr/>
								</div> -->
								<div class="form-body">
									<form class="row g-3" [formGroup]="formRegister" (ngSubmit)="onSubmit()"
										enctype="multipart/form-data">
										<div class="col-sm-6">
											<label for="inputFirstName" class="form-label">Nombre*</label>
											<input type="email" class="form-control" formControlName="name">
											<ng-container *ngFor="let validation of loginValidationMessages.name">
												<div class="error-text" *ngIf="
														formRegister.get('name')?.hasError(validation.type) &&
														(formRegister.get('name')?.dirty || formRegister.get('name')?.touched)
													">
													<p>{{ validation.message }}</p>
												</div>
											</ng-container>
										</div>
										<div class="col-sm-6">
											<label for="inputFirstName" class="form-label">Apellido*</label>
											<input type="email" class="form-control" formControlName="lastname">
											<ng-container *ngFor="let validation of loginValidationMessages.lastname">
												<div class="error-text" *ngIf="
														formRegister.get('lastname')?.hasError(validation.type) &&
														(formRegister.get('lastname')?.dirty || formRegister.get('lastname')?.touched)
													">
													<p>{{ validation.message }}</p>
												</div>
											</ng-container>
										</div>
										<div class="col-sm-6">
											<label for="inputFirstName" class="form-label">Teléfono*</label>
											<input type="text" class="form-control" formControlName="phone" mask="(0000) 000-0000" placeholder="(0000) 000-0000" maxLength="15">
											<ng-container *ngFor="let validation of loginValidationMessages.phone">
												<div class="error-text" *ngIf="
														formRegister.get('phone')?.hasError(validation.type) &&
														(formRegister.get('phone')?.dirty || formRegister.get('phone')?.touched)
													">
													<p>{{ validation.message }}</p>
												</div>
											</ng-container>
										</div>
										<div class="col-sm-6">
											<label for="inputFirstName" class="form-label">Fecha de nacimiento*</label>
											<input type="date" class="form-control" formControlName="birthday">
											<ng-container *ngFor="let validation of loginValidationMessages.birthday">
												<div class="error-text" *ngIf="
														formRegister.get('birthday')?.hasError(validation.type) &&
														(formRegister.get('birthday')?.dirty || formRegister.get('birthday')?.touched)
													">
													<p>{{ validation.message }}</p>
												</div>
											</ng-container>
										</div>
										<div class="p-2">
											<hr>
											Direccion*
											<div class="row mt-3">
												<div class="col-sm-4">
													<label for="inputFirstName" class="form-label">Carrera*</label>
													<input type="text" class="form-control" formControlName="avenue">
													<ng-container *ngFor="let validation of loginValidationMessages.avenue">
														<div class="error-text" *ngIf="
															formRegister.get('avenue')?.hasError(validation.type) &&
															(formRegister.get('avenue')?.dirty || formRegister.get('avenue')?.touched)
														">
															<p>{{ validation.message }}</p>
														</div>
													</ng-container>
												</div>
												<div class="col-sm-4">
													<label for="inputFirstName" class="form-label">Calle*</label>
													<input type="text" class="form-control" formControlName="street">
													<ng-container *ngFor="let validation of loginValidationMessages.street">
														<div class="error-text" *ngIf="
															formRegister.get('street')?.hasError(validation.type) &&
															(formRegister.get('street')?.dirty || formRegister.get('street')?.touched)
														">
															<p>{{ validation.message }}</p>
														</div>
													</ng-container>
												</div>
												<div class="col-sm-4">
													<label for="inputFirstName" class="form-label">Número de Casa*</label>
													<input type="text" class="form-control" formControlName="numberHouse" maxLength="3" placeholder="257">
													<ng-container *ngFor="let validation of loginValidationMessages.numberHouse">
														<div class="error-text" *ngIf="
															formRegister.get('numberHouse')?.hasError(validation.type) &&
															(formRegister.get('numberHouse')?.dirty || formRegister.get('numberHouse')?.touched)
														">
															<p>{{ validation.message }}</p>
														</div>
													</ng-container>
												</div>
											</div>
										</div>

										<div class="col-sm-12">
											<label for="inputFirstName" class="form-label">Email*</label>
											<input type="email" class="form-control" formControlName="email">
									
											<ng-container *ngFor="let validation of loginValidationMessages.email">
												<div class="error-text" *ngIf="
														formRegister.get('email')?.hasError(validation.type) &&
														(formRegister.get('email')?.dirty || formRegister.get('email')?.touched)
													">
													<p>{{ validation.message }}</p>
												</div>
											</ng-container>
										</div>
										<div class="col-sm-12 password">
											<label for="inputFirstName" class="form-label">Contraseña*</label>
											<input [type]="!passwordVisible? 'password' : 'text'" class="form-control" formControlName="password">
											<button class="btn btn-password" type="button" (click)="passwordVisible = !passwordVisible">
												<i class='bx' [ngClass]="!passwordVisible ? 'bx-show' : 'bx-low-vision'"></i>
											</button>
											<ng-container *ngFor="let validation of loginValidationMessages.password">
												<div class="error-text" *ngIf="
														formRegister.get('password')?.hasError(validation.type) &&
														(formRegister.get('password')?.dirty || formRegister.get('password')?.touched)
													">
													<p>{{ validation.message }}</p>
												</div>
											</ng-container>
										</div>
										<div class="col-sm-12 password">
											<label for="inputFirstName" class="form-label">Confirmar contraseña*</label>
											<input [type]="!cpasswordVisible? 'password' : 'text'" class="form-control" formControlName="cpassword">
											<button class="btn btn-password" type="button" (click)="cpasswordVisible = !cpasswordVisible">
												<i class='bx' [ngClass]="!cpasswordVisible ? 'bx-show' : 'bx-low-vision'"></i>
											</button>
											<ng-container *ngFor="let validation of loginValidationMessages.cpassword">
												<div class="error-text" *ngIf="
														formRegister.get('cpassword')?.hasError(validation.type) &&
														(formRegister.get('cpassword')?.dirty || formRegister.get('cpassword')?.touched)
													">
													<p>{{ validation.message }}</p>
												</div>
											</ng-container>
										</div>
										<!-- <div class="col-6">
											<label for="inputSelectCountry" class="form-label">Rol*</label>
											<select class="form-select" id="inputSelectCountry"
												aria-label="Default select example" formControlName="rol">
												<option [value]="item"
													*ngFor="let item of globalService.ROLES; let index = i">{{item}}
												</option>
											</select>
										</div> -->
										<div class="col-sm-12">
											<label for="inputLastName" class="form-label">Foto</label>
											<div class="boxImage">
												<label class="imageUpload" for="photoFile">
													<img [src]="imageUrl ? imageUrl : 'https://placehold.it/100x100'"
														alt="Preview Image" height="300" width="300">
													<input id="photoFile" type="file" accept="image/*"
														(change)="onFileChange($event.target.files)">
													<button type="button" class="btn" (click)="clearImage()"
														*ngIf="imageUrl">
														<i class='bx bx-x'></i>
													</button>
												</label>
											</div>
											<ng-container *ngFor="let validation of loginValidationMessages.photo">
												<div class="error-text" *ngIf="
														formRegister.get('photo')?.hasError(validation.type) &&
														(formRegister.get('photo')?.dirty || formRegister.get('photo')?.touched)
													">
													<p>{{ validation.message }}</p>
												</div>
											</ng-container>
										</div>

										<div class="col-12 ">
											<div class="d-grid mt-4">
												<button type="submit" class="btn btn-light"
													[disabled]="formRegister.invalid || loading">
													<span *ngIf="loading" class="spinner-border spinner-border-sm"
														role="status" aria-hidden="true"></span>
													Crear usuario
												</button>
											</div>
										</div>
									</form>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<!--end row-->
		</div>
	</div>
</div>
<!--end wrapper-->